### 并查集

并查集是一个支持将俩个集合合并成一个集合，支持查询俩个集合是否同属一个集合的数据结构。

- isSameSet()：查询俩个集合是否属于一个集合
- union()：将俩个集合合并成一个大集合



### 落地结构

```php
class Node
{
    Node parent;
    int count;
}
```

并查集是由多个Node节点组成，Node节点有一个指向其代表节点的parent指针，也有一个当前集合大小的count变量；

最开始每个集合都是最细粒度的，由一个Node节点组成，并且parent指向自身，表示自己是该集合的代表点，且集合大小为1；

- 寻找一个集合的代表点

  通过parent指针向上寻找，如果parent指针指向当前节点，那么该节点是集合的代表节点；

  在寻找的过程中做一个打平的动作，即将沿途的节点都指向代表节点，减少集合的路径长度。这是一个很重要的操作，降低算法时间复杂度。

- union()的实现

  合并的时候遵循一个原则，将小的集合挂到大的集合下；

  例如有A、B俩个集合，A集合大小为1，B集合大小为2，那么将A集合的代表节点指向B集合的代表节点，即A集合挂到B集合下。

- isSameSet()的实现

  寻找俩个元素的代表节点，如果代表节点相同则属于同一个集合。



时间复杂度

如果有n个元素，查询的次数+合并的次数，如果次数逼近O(N)或以上，单次查询和单次合并，它的时间复杂度平均O(1)，是所有查询和合并的平均代价是O(1)