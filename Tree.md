





### Morris遍历

递归遍历和非递归遍历二叉树的时间复杂度是$O(N)$，空间复杂度是$O(h)$，即二叉树的高度；

Morris遍历也是遍历二叉树的一种方法，但是它的空间复杂度是O(1)，遍历过程如下：

- 设定root节点为当前节点(current)

- current节点没有左子树，current向右移动

- current节点有左子树，找到current节点左子树的最右节点(mostRight)；

  如果mostRight的右孩子为null，则有孩子指向current，然后current向左移动；

  如果mostRight的右孩子指向current，则current向右移动，同时将mostRight的右孩子置

Morris遍历概念

- Morris遍历是一种对于任何一个有左子树的节点俩次回到自己，对于没有左子树的节点只到达这个节点一次的遍历，同时整体遍历顺序是先中间节点，再遍历左子树最后遍历右子树的过程。

二叉树遍历的本质

- 二叉树的递归遍历如果没有打印函数，实际上是一种3次回到自己节点的一个过程；进入函数是第一次访问自己，递归完左子树后是第二次访问自己，递归完右子树是第三次回到自己。

  Morris遍历利用了递归这种特性，节点有左子树则回到自己俩次，第一和第二次是重合的，不会有第三次回到自己。次数的标记是利用左子树的最右节点指向当前节点的情况来标记是第一次访问当前节点还是第二次访问当前节点。

Morris的遍历

- 先序遍历：如果当前节点有左子树，在第一次来到当前节点的时候打印；如果当前节点没有左子树，在它右移之前进行打印；这俩个情况都是第一次来到一个节点的时候进行打印。
- 中序遍历：如果当前节点有左子树，在第二次来到它的时候打印；如果当前节点没有左子树，直接打印；这俩种情况都符合递归遍历二叉树时，在第二次访问自己的时候打印。
- 后续遍历：对于每个第二次回到自己的当前节点，逆序的去打印当前节点的左子树的右边界，最后逆序的打印整棵树的右边界。

时间复杂度

使用Morris后续遍历时，对于每个节点都会去逆序遍历其左子树的右边界，逆序调整节点的遍历次数是2次，检查当前节点是否第二次访问的次数是2次，常数操作C是4次，又因为所有节点左子树右边界的节点个数一共是N个节点，所以时间复杂度是$O(C*N)$，额外空间复杂度是$O(1)$



 