### AVL树

一棵树的任意一个节点，它的左子树高度和右子树高度的绝对值相差不会超过1。

在最差和平均情况下，插入和删除操作时间复杂度是$O(logN)$，其中N是操作之前的节点数；插入和删除可能需要重新旋转一次或多次节点。

#### 节点

AVL树的节点引入了高度(height)的属性，它表示当前节点整棵树的高度。通过height属性就可以判断节点的左右俩颗子树是否平衡

#### 平衡操作

插入和删除均会影响整棵树的平衡，具体分析如下：

- 插入节点

  将新节点挂载某个叶子节点下，新节点所在的这条分支上的每个节点树的高度就发生了变化，因为会违反AVL树的平衡定义，所以需要平衡处理。

- 删除节点

  如果删除节点只有左孩子或右孩子，则让对应的孩子节点去替代删除节点环境，这种情况下删除节点从整棵树中被删除了，它原本所在的节点位置向上的分支节点树都会发生变化(减1)，所以需要做平衡处理。

  如果删除节点有左右孩子节点，则让删除节点的后继节点去替代删除节点的环境，由于后继节点替换删除节点，所以后继节点原本所在的节点位置，这条分支节点向上部分每个节点树的高度都发生了变化，所以需要做平衡处理

当插入一个节点或者删除一个节点的时候，插入位置或者删掉位置向上找到第一个不平衡的节点位置，将其不平衡的位置调整成平衡的，整颗树都会平衡了，这是一个数学结论。

AVL树有4种情况需要进行平衡性调整：

- RR型
- LL型
- LR型
- RL型