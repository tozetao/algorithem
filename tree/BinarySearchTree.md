### 搜索二叉树
任何一个节点它的左子树都比它小，它的右子树都比它大的树就是搜索二叉树。

时间复杂度

- 在一颗平衡的搜索树中搜索一个节点，时间复杂度是O(logN)，但是如果树是不平衡的，最差是形成一个链表，时间复杂度是O(N)


#### 新增

从根节点开始，将root作为当前节点，如果新节点的值大于当前节点，则往右分支寻找，如果新节点小于当前节点，则往左分支寻找，直到碰到null节点，null节点的父节点就是要挂在的节点。

#### 搜索

同新增同一个道理。

#### 删除节点

占据一个节点环境

- 新节点要占据一个节点的环境，新节点的parent指向被占据节点的父节点，被占据节点的父节点要指向新节点

删除一个节点有三种情况

- 如果要删除的节点没有左孩子，让右孩子代替删除节点的位置；

- 如果要删除的节点没有右孩子，让左孩子代替删除的节点；

- 如果删除的节点都有孩子节点，让删除节点的后继节点来替代删除节点；

  具体操作是将后继节点的右子树替代后继节点的环境，这一步是为了让后继节点脱离出来，将后继节点的右子树挂到后继节点父节点的左子节点上；

  接着让后继节点占据删除节点的环境，同时后继节点的左节点指向删除节点的左节点，右节点指向删除节点的右节点。

  当然后继节点可能是被删除节点的右子节点，这种情况后继节点占据删除节点的环境时，只需要正确的接管删除节点的左子树。



### 旋转

任何调整都是俩个源动作的组合，即左旋和右旋；

右旋：我的左孩子占据了我的环境，我变成了它的右孩子；会有一些环境变化，例如左孩子节点有子节点；

左旋：当前节点的右孩子占据了当前节点的环境



俩个原子性操作组成了4种case，LL型、RR型、LR型、RL型

当我插入一个节点或者删除一个节点的时候，你插入位置或者删掉位置向上找到第一个不平衡的节点位置，
将其不平衡的位置调整成平衡的，整颗树都会平衡了。

这是一个数学结论。

RR型调整：插入节点向上寻找不平衡的节点时，从该节点向下看发现是都是右边的节点不平衡
LL型调整：

LR型调整：

上述几个平衡树在进行平衡性调整时，平衡性的原子性操作都是左旋转和右旋转这俩个操作的组成，
例如AVL树它有4种情况需要进行平衡性调整：

- RR型：
- LL型：
- LR型：
- RL型：

红黑树的调整也是这俩个原子性操作，但是情况特别多，
插入操作5种情况：
删除操作8种情况：



### AVL树

一棵树的任意一个节点，它的左子树高度和右子树高度的绝对值相差不会超过1。

在最差和平均情况下，插入和删除操作时间复杂度是$O(logN)$，其中N是操作之前的节点数；插入和删除可能需要重新旋转一次或多次节点。

- 节点：AVL树的节点是具有高度和平衡附加属性，如果平衡等于2或者-2，那么该节点需要重新平衡；高度是以当前节点作为起始的子树，平衡点是左右节点高度的差值。



节点有height属性，是记录俩颗子树的高度差，它的值只能是-1，0和1

rebalance

1. 先检查当前节点俩颗子树的高度差，判断是否需要进行平衡操作
2. 如果不需要进行平衡操作，更新当前节点的高度差，然后当前节点向上移动到父节点，重复1和2这俩步过程；



### RB树

红黑树要满足以下规则：

- 每个节点不是红色就是黑色
- 根节点是黑色的
- 每个叶子节点一定是黑色的。注：这里的叶子节点指的是最底部的null节点。
- 每个红色节点的子节点一定是黑色节点
- 以任何一个节点作为起始的节点链上的黑色节点数量是一致的。

根节点是黑色的，叶子节点是黑色的，中间任何一个红色节点要求子节点是黑色，不能有相邻的红节点，同时每个节点链上黑色节点数量一致；

最差情况一个节点链全部是黑色的，另外一个节点链是红、黑、红、黑，要求每个节点链上黑色节点数量一致，是不是说明任意一个节点俩条链的长度大小不要超过2倍，即长链和短链在节点数量上，长链节点的数量不要超过短链节点数量的1倍大小；





### SB树

任意一个节点，它整棵树的节点数量一定不小于它侄子树的节点数量。

假设当前节点是叔叔节点，当前节点位于父节点的左子节点，父节点的右子节点就是当前节点的兄弟节点，该兄弟节点的任意一个子节点就是侄子节点，所以平衡规则是叔叔节点整颗数的节点数量要大于任意一个它的侄子树的节点数量；



